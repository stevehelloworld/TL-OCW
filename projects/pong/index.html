<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pygame Pong éŠæˆ²è£½ä½œæ•™å­¸</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Prism JS for Syntax Highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>

    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #f8fafc; /* slate-50 */
        }
        .nav-active {
            background-color: #f1f5f9; /* slate-100 */
            color: #f59e0b; /* amber-500 */
            border-left-color: #f59e0b; /* amber-500 */
        }
        .step-content {
            display: none;
        }
        .step-content.active {
            display: block;
        }
        .content-section h3 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #e2e8f0; /* slate-200 */
        }
        .content-section h4 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }
        .content-section p, .content-section li {
            line-height: 1.75;
            color: #334155; /* slate-700 */
        }
        .content-section code:not(pre > code) {
            background-color: #f1f5f9; /* slate-100 */
            color: #475569; /* slate-600 */
            padding: 0.125rem 0.375rem;
            border-radius: 0.25rem;
            font-size: 0.9em;
        }
        .content-section table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        .content-section th, .content-section td {
            border: 1px solid #e2e8f0;
            padding: 12px;
            text-align: left;
        }
        .content-section th {
            background-color: #f1f5f9;
        }
        .content-section tr:nth-child(even) {
            background-color: #f8fafc;
        }
        pre[class*="language-"] {
            background: #1e293b; /* slate-800 */
        }
    </style>
</head>
<body class="text-slate-800">

    <div class="flex min-h-screen">
        <!-- Sidebar Navigation -->
        <aside id="sidebar" class="w-64 bg-white border-r border-slate-200 fixed top-0 left-0 h-full overflow-y-auto transition-transform -translate-x-full md:translate-x-0 z-20">
            <div class="p-4">
                <h2 class="text-xl font-bold text-slate-700">Pygame Pong</h2>
                <p class="text-sm text-slate-500">éŠæˆ²è£½ä½œæ•™å­¸</p>
            </div>
            <nav id="table-of-contents" class="mt-4">
                <ul>
                    <!-- Navigation items will be injected by JS -->
                </ul>
            </nav>
        </aside>

        <!-- Mobile Menu Button -->
        <button id="menu-toggle" class="md:hidden fixed top-4 left-4 z-30 p-2 bg-white rounded-md shadow-md">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
            </svg>
        </button>

        <!-- Main Content -->
        <main class="w-full md:ml-64 p-4 md:p-8 lg:p-12">
            <div id="main-grid" class="max-w-7xl mx-auto grid grid-cols-1 gap-8">
                <!-- Tutorial Text Column -->
                <div>
                    <div class="flex justify-end mb-4">
                        <button id="toggle-code-btn" class="bg-white border border-slate-300 hover:bg-slate-100 text-slate-700 text-sm font-medium py-2 px-4 rounded-lg shadow-sm">
                            é¡¯ç¤ºç¨‹å¼ç¢¼
                        </button>
                    </div>
                    <div id="tutorial-content" class="prose max-w-none">
                        <!-- Content sections will be injected and managed by JS -->
                    </div>
                </div>

                <!-- Code Viewer Column -->
                <div id="code-viewer-container" class="sticky top-0 h-screen overflow-hidden hidden">
                    <div class="h-full flex flex-col bg-slate-900 rounded-lg shadow-lg">
                        <div class="flex-shrink-0 p-4 flex justify-between items-center bg-slate-800/50 rounded-t-lg">
                            <h3 id="code-viewer-title" class="text-lg font-semibold text-white">ç•¶å‰æ­¥é©Ÿç¨‹å¼ç¢¼</h3>
                            <button id="copy-button" class="bg-slate-700 hover:bg-slate-600 text-white text-sm font-medium py-1 px-3 rounded-md transition-colors">
                                è¤‡è£½
                            </button>
                        </div>
                        <div class="flex-grow overflow-y-auto">
                            <pre class="h-full m-0 rounded-b-lg"><code id="code-display" class="language-python text-sm"></code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const tutorialData = {
                'intro': {
                    title: 'ğŸ‘‹ æ­¡è¿',
                    steps: [
                        {
                            title: 'è²ªé£Ÿè›‡ä¹‹å¾Œçš„ä¸‹ä¸€æ­¥',
                            content: `
                                <p>æ­å–œä½ å®Œæˆäº†è²ªé£Ÿè›‡å°ˆæ¡ˆï¼é€™è¡¨ç¤ºä½ å·²ç¶“æŒæ¡äº†éŠæˆ²é–‹ç™¼çš„åŸºç¤ï¼šéŠæˆ²è¿´åœˆã€è™•ç†è¼¸å…¥å’Œåœ¨è¢å¹•ä¸Šç¹ªè£½ç‰©ä»¶ã€‚ç¾åœ¨ï¼Œæ˜¯æ™‚å€™è¿æ¥ä¸‹ä¸€å€‹æŒ‘æˆ°äº†ã€‚</p>
                                <p>Pong ä¸åƒ…åƒ…æ˜¯å¦ä¸€æ¬¾ç¶“å…¸éŠæˆ²ï¼Œå®ƒæ˜¯ä½ å­¸ç¿’è·¯ä¸Šä¸€å€‹é—œéµçš„é€²åŒ–ã€‚æœ¬æ•™å­¸å°‡å¼•å°ä½ å¾è²ªé£Ÿè›‡çš„ã€Œç¶²æ ¼ä¸–ç•Œã€éæ¸¡åˆ° Pong çš„ã€Œé€£çºŒç‰©ç†ä¸–ç•Œã€ã€‚</p>
                                <img src="https://placehold.co/600x400/008000/FF8C00?text=Pong+Game" alt="å®Œæˆçš„ Pong éŠæˆ²" class="rounded-lg shadow-md my-4">
                                <p>è²ªé£Ÿè›‡çš„ç§»å‹•æ˜¯é›¢æ•£çš„ï¼Œä¸€æ ¼ä¸€æ ¼è·³ã€‚ä½† Pong çš„çƒæ˜¯å¹³æ»‘ç§»å‹•çš„ï¼Œé€™éœ€è¦æˆ‘å€‘ç”¨ä¸€ç¨®å…¨æ–°çš„æ–¹å¼ä¾†æ€è€ƒé‹å‹•å’Œç¢°æ’ã€‚æº–å‚™å¥½äº†å—ï¼Ÿè®“æˆ‘å€‘é–‹å§‹å§ï¼</p>`,
                            code: `# æ­¡è¿ä¾†åˆ° Pygame Pong æ•™å­¸ï¼\n# é»æ“Šã€Œä¸‹ä¸€æ­¥ã€é–‹å§‹ã€‚`
                        },
                        {
                            title: 'æ¦‚å¿µè½‰è®Šï¼šå¾ç¶²æ ¼åˆ°å‘é‡',
                            content: `<p>ç‚ºäº†ç†è§£é€™æ¬¡çš„å­¸ç¿’é‡é»ï¼Œè®“æˆ‘å€‘ç›´æ¥æ¯”è¼ƒä¸€ä¸‹è²ªé£Ÿè›‡å’Œ Pong åœ¨æ ¸å¿ƒæ¦‚å¿µä¸Šçš„ä¸åŒã€‚</p>
                                      <table>
                                          <thead>
                                              <tr>
                                                  <th>æ¦‚å¿µ</th>
                                                  <th>åœ¨è²ªé£Ÿè›‡ä¸­çš„å¯¦ä½œ (åŸºæ–¼ç¶²æ ¼)</th>
                                                  <th>åœ¨ Pong ä¸­çš„å¯¦ä½œ (åŸºæ–¼å‘é‡)</th>
                                              </tr>
                                          </thead>
                                          <tbody>
                                              <tr>
                                                  <td><strong>éŠæˆ²ä¸–ç•Œ</strong></td>
                                                  <td>ä¸€å€‹ç”±å„²å­˜æ ¼çµ„æˆçš„é›¢æ•£ç¶²æ ¼ã€‚</td>
                                                  <td>ä¸€å€‹é€£çºŒçš„åº§æ¨™ç©ºé–“ã€‚</td>
                                              </tr>
                                              <tr>
                                                  <td><strong>ç‰©ä»¶è¡¨ç¤º</strong></td>
                                                  <td>ä¸€å€‹ <code>(x, y)</code> åº§æ¨™å…ƒçµ„çš„åˆ—è¡¨ã€‚</td>
                                                  <td><code>pygame.Rect</code> ç‰©ä»¶ (åŒ…å«ä½ç½®å’Œå¤§å°)ã€‚</td>
                                              </tr>
                                              <tr>
                                                  <td><strong>é‹å‹•é‚è¼¯</strong></td>
                                                  <td>å¾åˆ—è¡¨ä¸­æ–°å¢/ç§»é™¤å…ƒç´ ä»¥åœ¨ç¶²æ ¼å–®å…ƒæ ¼ä¹‹é–“ã€Œè·³èºã€ã€‚</td>
                                                  <td>æ¯ä¸€å¹€éƒ½ç”¨é€Ÿåº¦è®Šæ•¸æ›´æ–° <code>x</code> å’Œ <code>y</code> çš„ä½ç½®ã€‚</td>
                                              </tr>
                                              <tr>
                                                  <td><strong>ç¢°æ’åµæ¸¬</strong></td>
                                                  <td>æª¢æŸ¥åº§æ¨™æ˜¯å¦ç›¸ç­‰ã€‚</td>
                                                  <td>ä½¿ç”¨ <code>Rect.colliderect()</code> æª¢æŸ¥é‡ç–Šå€åŸŸã€‚</td>
                                              </tr>
                                              <tr>
                                                  <td><strong>ç¢°æ’åæ‡‰</strong></td>
                                                  <td>éŠæˆ²ç‹€æ…‹æ”¹è®Š (ä¾‹å¦‚ï¼ŒéŠæˆ²çµæŸ)ã€‚</td>
                                                  <td>åŸºæ–¼ç‰©ç†çš„åå½ˆ (åè½‰é€Ÿåº¦å‘é‡)ã€‚</td>
                                              </tr>
                                          </tbody>
                                      </table>
                                      <p>ç†è§£é€™å€‹è¡¨æ ¼æ˜¯æŒæ¡æœ¬æ•™å­¸çš„é—œéµã€‚é»æ“Šã€Œä¸‹ä¸€æ­¥ã€æˆ–å·¦å´çš„ã€ŒPart 1ã€é–‹å§‹å»ºç«‹æˆ‘å€‘çš„åŸºç¤æ¡†æ¶ã€‚</p>`,
                            code: `# é€™å¼µè¡¨æ ¼ç¸½çµäº†æˆ‘å€‘å°‡è¦å­¸ç¿’çš„æ ¸å¿ƒæ¦‚å¿µè½‰è®Šã€‚\n# æˆ‘å€‘å°‡å¾åº§æ¨™è½‰å‘ Rectï¼Œå¾é›¢æ•£è·³èºè½‰å‘é€£çºŒé‹å‹•ã€‚`
                        }
                    ]
                },
                'part1': {
                    title: 'Part 1: å»ºç«‹åŸºç¤',
                    steps: [
                        {
                            title: '1.1: åŒ¯å…¥ã€åˆå§‹åŒ–èˆ‡å¸¸æ•¸',
                            content: `<p>ä»»ä½• Pygame å°ˆæ¡ˆéƒ½å§‹æ–¼ç›¸åŒçš„åŸºæœ¬çµæ§‹ã€‚æˆ‘å€‘é¦–å…ˆåŒ¯å…¥å‡½å¼åº«ï¼Œåˆå§‹åŒ–å®ƒï¼Œä¸¦å®šç¾©ä¸€äº›å¸¸æ•¸ï¼Œå¦‚è¢å¹•å°ºå¯¸å’Œé¡è‰²ã€‚é€™æ¬¡æˆ‘å€‘å°‡ä½¿ç”¨ä¸€å€‹ç¶“å…¸çš„æ¡Œçƒé…è‰²æ–¹æ¡ˆã€‚</p>
                                       <ul>
                                           <li><code>import pygame, sys, random</code>: åŒ¯å…¥æˆ‘å€‘å°ˆæ¡ˆæœƒç”¨åˆ°çš„æ‰€æœ‰å‡½å¼åº«ã€‚</li>
                                           <li><code>pygame.init()</code>: å•Ÿå‹• Pygame å¼•æ“ã€‚</li>
                                           <li>å¸¸æ•¸ï¼šæˆ‘å€‘å°‡èƒŒæ™¯è¨­ç‚ºç¶ è‰²ï¼Œçƒè¨­ç‚ºæ©˜è‰²ï¼Œè€Œçƒæ‹å’Œç·šæ¢å‰‡è¨­ç‚ºç™½è‰²ï¼Œä»¥é”åˆ°ç¶“å…¸çš„è¦–è¦ºæ•ˆæœã€‚</li>
                                       </ul>`,
                            code: `import pygame
import sys
import random

# 1. åˆå§‹åŒ– Pygame
pygame.init()

# 2. è¨­å®šè¢å¹•å°ºå¯¸å’Œé¡è‰²
SCREEN_WIDTH = 900
SCREEN_HEIGHT = 600
BG_COLOR = pygame.Color('#008000')      # æ¡Œçƒç¶ 
PADDLE_COLOR = pygame.Color('#FFFFFF')  # ç™½è‰²
BALL_COLOR = pygame.Color('#FF8C00')    # æš—æ©˜è‰²
LINE_COLOR = pygame.Color('#FFFFFF')    # ç™½è‰²
TEXT_COLOR = pygame.Color('#FFFFFF')    # ç™½è‰²`
                        },
                        {
                            title: '1.2: å»ºç«‹å­—é«”ã€æ™‚è„ˆèˆ‡é¡¯ç¤ºå™¨',
                            content: `<p>æ¥ä¸‹ä¾†ï¼Œæˆ‘å€‘å‰µå»ºéŠæˆ²è¦–çª—å’Œæ™‚è„ˆç‰©ä»¶ã€‚æœ€é—œéµçš„æ˜¯ï¼Œæˆ‘å€‘è¦å»ºç«‹å­—é«”ç‰©ä»¶ã€‚èˆ‡å…¶æŒ‡å®šä¸€å€‹å¯èƒ½æœƒåœ¨ä¸åŒä½œæ¥­ç³»çµ±ä¸Šå°è‡´å•é¡Œçš„ç³»çµ±å­—é«”ï¼Œæˆ‘å€‘å°‡ä½¿ç”¨ <code>pygame.font.Font(None, size)</code>ã€‚é€™æœƒä½¿ç”¨ Pygame çš„é è¨­å­—é«”ï¼Œå®ƒåœ¨ä»»ä½•ä½œæ¥­ç³»çµ±ä¸Šéƒ½èƒ½å®Œç¾åœ°é¡¯ç¤ºè‹±æ–‡æ–‡å­—ã€‚</p>`,
                            code: `# 3. å»ºç«‹å­—é«”ç‰©ä»¶
title_font = pygame.font.Font(None, 64)
game_font = pygame.font.Font(None, 48)
prompt_font = pygame.font.Font(None, 32)

# 4. å»ºç«‹éŠæˆ²è¦–çª—å’Œæ™‚è„ˆ
screen = pygame.display.set_mode((SCREEN_WIDTH, SCREEN_HEIGHT))
pygame.display.set_caption("Pong by Pygame")
clock = pygame.time.Clock()`
                        },
                        {
                            title: '1.3: æ ¸å¿ƒéŠæˆ²è¿´åœˆ',
                            content: `<p>éŠæˆ²è¿´åœˆæ˜¯æ¯å€‹éŠæˆ²çš„å¿ƒè‡Ÿã€‚å®ƒæ˜¯ä¸€å€‹æŒçºŒé‹è¡Œçš„ <code>while</code> è¿´åœˆï¼Œè² è²¬è™•ç†è¼¸å…¥ã€æ›´æ–°ç‹€æ…‹å’Œç¹ªè£½ç•«é¢ã€‚æˆ‘å€‘ç¾åœ¨å°‡ç”¨æ–°çš„ç¶ è‰²èƒŒæ™¯ä¾†å¡«å……è¢å¹•ã€‚</p>
                                       <p class="mt-4 font-bold">æ­å–œï¼Part 1 å·²å®Œæˆã€‚é»æ“Šã€Œä¸‹ä¸€æ­¥ã€é€²å…¥ Part 2ã€‚</p>`,
                            code: `# 5. ä¸»éŠæˆ²è¿´åœˆ
running = True
while running:
    # --- äº‹ä»¶è™•ç† ---
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            running = False

    # --- éŠæˆ²é‚è¼¯å°‡æœƒæ”¾åœ¨é€™è£¡ ---

    # --- ç¹ªåœ–ç¨‹å¼ç¢¼å°‡æœƒæ”¾åœ¨é€™è£¡ ---
    screen.fill(BG_COLOR)

    # --- æ›´æ–°è¢å¹• ---
    pygame.display.flip()

    # --- å°‡å¹€ç‡é™åˆ¶åœ¨ 60 FPS ---
    clock.tick(60)

# 6. é€€å‡º Pygame
pygame.quit()
sys.exit()`
                        }
                    ]
                },
                'part2': {
                    title: 'Part 2: å®šç¾©ç«¶æŠ€å ´',
                    steps: [
                        {
                            title: '2.1: ä»‹ç´¹ pygame.Rect',
                            content: `<p>åœ¨è²ªé£Ÿè›‡ä¸­ï¼Œæˆ‘å€‘ç”¨åº§æ¨™å…ƒçµ„ <code>(x, y)</code> ä¾†è¡¨ç¤ºç‰©ä»¶ã€‚ä½†åœ¨ Pong ä¸­ï¼Œç‰©ä»¶æœ‰å¯¬åº¦å’Œé«˜åº¦ã€‚ç‚ºæ­¤ï¼Œæˆ‘å€‘ä½¿ç”¨ <code>pygame.Rect</code> ç‰©ä»¶ã€‚</p>
                                       <p><code>pygame.Rect</code> æ˜¯ä¸€å€‹å¼·å¤§çš„å·¥å…·ï¼Œå®ƒä¸åƒ…å„²å­˜äº†ä½ç½® (left, top)ï¼Œé‚„å„²å­˜äº†å°ºå¯¸ (width, height)ï¼Œä¸¦æä¾›äº†è¨±å¤šæ–¹ä¾¿çš„åŠŸèƒ½ï¼Œä¾‹å¦‚ç¢°æ’åµæ¸¬ã€‚</p>`,
                            code: `# æˆ‘å€‘å°‡ç”¨ pygame.Rect ä¾†å®šç¾©æˆ‘å€‘çš„éŠæˆ²ç‰©ä»¶ã€‚
# èªæ³•: pygame.Rect(left, top, width, height)`
                        },
                        {
                            title: '2.2: å‰µå»ºéŠæˆ²ç‰©ä»¶',
                            content: `<p>æˆ‘å€‘å°‡ç‚ºéŠæˆ²ä¸­çš„ä¸‰å€‹ä¸»è¦ç‰©ä»¶å‰µå»º <code>Rect</code> ç‰©ä»¶ï¼šå…©å€‹çƒæ‹å’Œä¸€å€‹çƒã€‚æˆ‘å€‘æœƒåœ¨ä¸»éŠæˆ²è¿´åœˆä¹‹å‰å®šç¾©å®ƒå€‘ã€‚</p>
                                       <p>æˆ‘å€‘ä½¿ç”¨è¢å¹•å°ºå¯¸å¸¸æ•¸ä¾†è¨ˆç®—å®ƒå€‘çš„åˆå§‹ä½ç½®ï¼Œç¢ºä¿å®ƒå€‘è¢«ç²¾ç¢ºåœ°æ”¾ç½®åœ¨è¢å¹•çš„ä¸­å¤®å’Œå…©å´ã€‚</p>`,
                            code: `# åœ¨å‰µå»ºæ™‚è„ˆç‰©ä»¶ä¹‹å¾Œï¼Œä¸»è¿´åœˆä¹‹å‰åŠ å…¥ï¼š

# çƒæ‹å°ºå¯¸
PADDLE_WIDTH = 10
PADDLE_HEIGHT = 100

# çƒå°ºå¯¸
BALL_SIZE = 15

# ç‚ºéŠæˆ²ç‰©ä»¶å»ºç«‹ Rect
paddle_1 = pygame.Rect(20, SCREEN_HEIGHT // 2 - PADDLE_HEIGHT // 2, PADDLE_WIDTH, PADDLE_HEIGHT)
paddle_2 = pygame.Rect(SCREEN_WIDTH - 20 - PADDLE_WIDTH, SCREEN_HEIGHT // 2 - PADDLE_HEIGHT // 2, PADDLE_WIDTH, PADDLE_HEIGHT)
ball = pygame.Rect(SCREEN_WIDTH // 2 - BALL_SIZE // 2, SCREEN_HEIGHT // 2 - BALL_SIZE // 2, BALL_SIZE, BALL_SIZE)`
                        },
                        {
                            title: '2.3: ç¹ªè£½ç‰©ä»¶',
                            content: `<p>ä½¿ç”¨ <code>Rect</code> çš„ä¸€å€‹ç›´æ¥å¥½è™•æ˜¯ï¼ŒPygame çš„ç¹ªåœ–å‡½æ•¸å¯ä»¥ç›´æ¥æ¥å—å®ƒä½œç‚ºåƒæ•¸ã€‚åœ¨æˆ‘å€‘éŠæˆ²è¿´åœˆçš„ç¹ªåœ–å€å¡Šï¼Œæˆ‘å€‘å°‡ä½¿ç”¨ <code>pygame.draw.rect()</code> å’Œ <code>pygame.draw.ellipse()</code> ä¾†ç¹ªè£½æˆ‘å€‘çš„ç‰©ä»¶ï¼Œä¸¦å¥—ç”¨æ–°çš„é¡è‰²ã€‚</p>
                                       <p class="mt-4 font-bold">å¤ªæ£’äº†ï¼Part 2 å·²å®Œæˆã€‚é»æ“Šã€Œä¸‹ä¸€æ­¥ã€ä¾†è®“å®ƒå€‘å‹•èµ·ä¾†ï¼</p>`,
                            code: `# åœ¨ä¸»è¿´åœˆçš„ã€Œç¹ªåœ–ç¨‹å¼ç¢¼ã€å€å¡Šï¼Œscreen.fill(BG_COLOR) ä¹‹å¾ŒåŠ å…¥ï¼š

# ç¹ªè£½çƒæ‹å’Œçƒ
pygame.draw.rect(screen, PADDLE_COLOR, paddle_1)
pygame.draw.rect(screen, PADDLE_COLOR, paddle_2)
pygame.draw.ellipse(screen, BALL_COLOR, ball)

# ç¹ªè£½ä¸­ç·š (å¯é¸)
pygame.draw.aaline(screen, LINE_COLOR, (SCREEN_WIDTH // 2, 0), (SCREEN_WIDTH // 2, SCREEN_HEIGHT))`
                        }
                    ]
                },
                 'part3': {
                    title: 'Part 3: é‹å‹•çš„ç‰©ç†',
                    steps: [
                        {
                            title: '3.1: å¼•å…¥é€Ÿåº¦å‘é‡',
                            content: `<p>ç‚ºäº†å¯¦ç¾å¹³æ»‘é‹å‹•ï¼Œæˆ‘å€‘å¼•å…¥ã€Œé€Ÿåº¦ã€çš„æ¦‚å¿µã€‚æˆ‘å€‘ç‚ºçƒå‰µå»ºå…©å€‹è®Šæ•¸ï¼š<code>ball_speed_x</code> å’Œ <code>ball_speed_y</code>ã€‚é€™å…©å€‹è®Šæ•¸å…±åŒæ§‹æˆäº†ä¸€å€‹é€Ÿåº¦å‘é‡ï¼Œæ±ºå®šäº†çƒåœ¨æ¯ä¸€å¹€ä¸­ç§»å‹•çš„æ–¹å‘å’Œè·é›¢ã€‚</p>`,
                            code: `# åœ¨å‰µå»º Rect ç‰©ä»¶ä¹‹å¾ŒåŠ å…¥ï¼š

# çƒçš„é€Ÿåº¦
ball_speed_x = 7 * random.choice((1, -1))
ball_speed_y = 7 * random.choice((1, -1))`
                        },
                        {
                            title: '3.2: å¯¦ä½œæ¢ä»¶å¼é‹å‹•',
                            content: `<p>ç‚ºäº†å¯¦ä½œç™¼çƒæ©Ÿåˆ¶ï¼Œæˆ‘å€‘éœ€è¦ä¸€å€‹æ–°çš„ç‹€æ…‹æ——æ¨™ <code>ball_moving</code>ã€‚çƒçš„ä½ç½®åªæ‡‰è©²åœ¨ <code>ball_moving</code> ç‚º <code>True</code> æ™‚æ‰æ›´æ–°ã€‚æˆ‘å€‘åœ¨éŠæˆ²é–‹å§‹æ™‚å°‡å…¶åˆå§‹åŒ–ç‚º <code>False</code>ã€‚</p>`,
                            code: `# åœ¨éŠæˆ²ç‹€æ…‹è®Šæ•¸å€æ–°å¢
ball_moving = False

# åœ¨ä¸»è¿´åœˆçš„ã€ŒéŠæˆ²é‚è¼¯ã€å€å¡ŠåŠ å…¥ï¼š
if ball_moving:
    ball.x += ball_speed_x
    ball.y += ball_speed_y`
                        },
                        {
                            title: '3.3: é€£çºŒç©å®¶è¼¸å…¥',
                            content: `<p>åœ¨ Pong ä¸­ï¼Œç©å®¶éœ€è¦èƒ½å¤ <strong>æŒ‰ä½</strong>ä¸€å€‹éµä¾†æŒçºŒç§»å‹•çƒæ‹ã€‚ç‚ºæ­¤ï¼Œæˆ‘å€‘ä½¿ç”¨ <code>pygame.key.get_pressed()</code>ï¼Œå®ƒåœ¨æ¯ä¸€å¹€ä¸­æª¢æŸ¥æ˜¯å¦æœ‰éµè¢«æŒ‰ä½ï¼Œè€Œä¸æ˜¯åªåœ¨æŒ‰ä¸‹ç¬é–“è§¸ç™¼ä¸€æ¬¡ã€‚</p>`,
                            code: `# åœ¨ä¸»è¿´åœˆçš„ã€ŒéŠæˆ²é‚è¼¯ã€å€å¡ŠåŠ å…¥ï¼š
keys = pygame.key.get_pressed()
# ç©å®¶ 1 ç§»å‹• (W/S)
if keys[pygame.K_w]:
    paddle_1.y -= 7
if keys[pygame.K_s]:
    paddle_1.y += 7

# ç©å®¶ 2 ç§»å‹• (ä¸Š/ä¸‹æ–¹å‘éµ)
if keys[pygame.K_UP]:
    paddle_2.y -= 7
if keys[pygame.K_DOWN]:
    paddle_2.y += 7`
                        },
                        {
                            title: '3.4: é‚Šç•Œæª¢æŸ¥',
                            content: `<p>å¦‚æœç¾åœ¨é‹è¡ŒéŠæˆ²ï¼Œä½ æœƒç™¼ç¾çƒæ‹å¯ä»¥ç§»å‡ºè¢å¹•ã€‚æˆ‘å€‘éœ€è¦æ·»åŠ ä¸€äº›é‚è¼¯ä¾†å°‡å®ƒå€‘é™åˆ¶åœ¨éŠæˆ²å€åŸŸå…§ã€‚æˆ‘å€‘åœ¨æ›´æ–°å®ƒå€‘çš„ä½ç½®å¾Œï¼Œç«‹å³æª¢æŸ¥å®ƒå€‘çš„ <code>.top</code> å’Œ <code>.bottom</code> å±¬æ€§ã€‚</p>`,
                            code: `# åœ¨ç©å®¶ç§»å‹•ç¨‹å¼ç¢¼ä¹‹å¾ŒåŠ å…¥ï¼š

# å°‡ç©å®¶ 1 çš„çƒæ‹é™åˆ¶åœ¨è¢å¹•å…§
if paddle_1.top <= 0:
    paddle_1.top = 0
if paddle_1.bottom >= SCREEN_HEIGHT:
    paddle_1.bottom = SCREEN_HEIGHT

# å°‡ç©å®¶ 2 çš„çƒæ‹é™åˆ¶åœ¨è¢å¹•å…§
if paddle_2.top <= 0:
    paddle_2.top = 0
if paddle_2.bottom >= SCREEN_HEIGHT:
    paddle_2.bottom = SCREEN_HEIGHT`
                        },
                        {
                            title: '3.5: ç™¼çƒæ©Ÿåˆ¶',
                            content: `<p>ç¾åœ¨æ˜¯è®“ç©å®¶æ§åˆ¶ç™¼çƒçš„æ™‚å€™äº†ã€‚åœ¨æˆ‘å€‘çš„äº‹ä»¶è™•ç†è¿´åœˆä¸­ï¼Œæˆ‘å€‘æª¢æŸ¥ç©å®¶æ˜¯å¦æŒ‰ä¸‹äº†ç©ºç™½éµã€‚å¦‚æœçƒæ˜¯éœæ­¢çš„ (<code>not ball_moving</code>)ï¼Œæˆ‘å€‘å°±å°‡æ——æ¨™è¨­ç‚º <code>True</code>ï¼Œä¸¦è³¦äºˆçƒä¸€å€‹æ–°çš„éš¨æ©Ÿé€Ÿåº¦ï¼Œè®“æ¯”è³½é–‹å§‹ï¼</p>
                                       <p class="mt-4 font-bold">æ ¸å¿ƒé‹å‹•æ©Ÿåˆ¶å®Œæˆï¼é»æ“Šã€Œä¸‹ä¸€æ­¥ã€ä¾†è™•ç†ç¢°æ’ã€‚</p>`,
                            code: `# åœ¨äº‹ä»¶è™•ç†è¿´åœˆä¸­æ–°å¢ï¼š
if event.type == pygame.KEYDOWN and event.key == pygame.K_SPACE:
    if not ball_moving and game_active and not game_over:
        ball_moving = True
        ball_speed_x = 7 * random.choice((1, -1))
        ball_speed_y = 7 * random.choice((1, -1))`
                        }
                    ]
                },
                'part4': {
                    title: 'Part 4: äº’å‹•çš„é‚è¼¯',
                     steps: [
                        {
                            title: '4.1: ç‰†å£ç¢°æ’',
                            content: `<p>æˆ‘å€‘çš„ç‰©ä»¶æ­£åœ¨ç§»å‹•ï¼Œä½†å®ƒå€‘æœƒç›´æ¥ç©¿éé‚Šç•Œã€‚é¦–å…ˆï¼Œæˆ‘å€‘ä¾†è™•ç†çƒèˆ‡é ‚éƒ¨å’Œåº•éƒ¨ç‰†å£çš„ç¢°æ’ã€‚ç•¶ç¢°æ’ç™¼ç”Ÿæ™‚ï¼Œæˆ‘å€‘åªéœ€è¦åè½‰å®ƒçš„å‚ç›´é€Ÿåº¦ (<code>ball_speed_y</code>) å°±å¯ä»¥æ¨¡æ“¬åå½ˆã€‚</p>`,
                            code: `# åœ¨çƒçš„ç§»å‹•é‚è¼¯ (if ball_moving:) å…§éƒ¨åŠ å…¥ï¼š

# çƒèˆ‡é ‚éƒ¨/åº•éƒ¨ç‰†å£çš„ç¢°æ’
if ball.top <= 0 or ball.bottom >= SCREEN_HEIGHT:
    ball_speed_y *= -1`
                        },
                        {
                            title: '4.2: çƒæ‹ç¢°æ’',
                            content: `<p>ç¾åœ¨æ˜¯é—œéµæ™‚åˆ»ï¼šè®“çƒå¾çƒæ‹ä¸Šåå½ˆã€‚é€™å°±æ˜¯ <code>Rect</code> ç‰©ä»¶çš„å¨åŠ›æ‰€åœ¨ã€‚æˆ‘å€‘ä½¿ç”¨ <code>.colliderect()</code> æ–¹æ³•ä¾†æª¢æŸ¥çƒçš„çŸ©å½¢æ˜¯å¦èˆ‡çƒæ‹çš„é‡ç–Šã€‚å¦‚æœé‡ç–Šï¼Œæˆ‘å€‘å°±åè½‰çƒçš„æ°´å¹³é€Ÿåº¦ (<code>ball_speed_x</code>)ã€‚</p>`,
                            code: `# åœ¨ç‰†å£ç¢°æ’é‚è¼¯ä¹‹å¾ŒåŠ å…¥ï¼š

# çƒèˆ‡çƒæ‹çš„ç¢°æ’
if ball.colliderect(paddle_1) or ball.colliderect(paddle_2):
    ball_speed_x *= -1`
                        },
                         {
                            title: '4.3: è¨ˆåˆ†èˆ‡æº–å‚™ç™¼çƒ',
                            content: `<p>ç•¶çƒç§»å‡ºè¢å¹•çš„å·¦é‚Šç·£æˆ–å³é‚Šç·£æ™‚ï¼Œå°æ‰‹å¾—åˆ†ã€‚ç¾åœ¨ï¼Œé™¤äº†å¢åŠ åˆ†æ•¸å’Œé‡ç½®çƒçš„ä½ç½®ï¼Œæˆ‘å€‘é‚„éœ€è¦å°‡ <code>ball_moving</code> æ——æ¨™è¨­å› <code>False</code>ï¼Œè®“éŠæˆ²æš«åœï¼Œç­‰å¾…ä¸‹ä¸€æ¬¡ç™¼çƒã€‚</p>
                                       <p class="mt-4 font-bold">äº’å‹•é‚è¼¯å®Œæˆï¼é»æ“Šã€Œä¸‹ä¸€æ­¥ã€ä¾†åŠ ä¸Šè¨ˆåˆ†ç³»çµ±ã€‚</p>`,
                            code: `# åœ¨ç¢°æ’é‚è¼¯ä¹‹å¾ŒåŠ å…¥ï¼š

# åµæ¸¬çƒæ˜¯å¦å‡ºç•Œ (è¨ˆåˆ†)
if ball.left <= 0:
    player_2_score += 1
    ball.center = (SCREEN_WIDTH // 2, SCREEN_HEIGHT // 2)
    ball_moving = False

if ball.right >= SCREEN_WIDTH:
    player_1_score += 1
    ball.center = (SCREEN_WIDTH // 2, SCREEN_HEIGHT // 2)
    ball_moving = False`
                        }
                    ]
                },
                'part5': {
                    title: 'Part 5: è¨˜éŒ„åˆ†æ•¸',
                    steps: [
                        {
                            title: '5.1: å»ºç«‹åˆ†æ•¸è®Šæ•¸',
                            content: `<p>æ²’æœ‰è¨ˆåˆ†çš„éŠæˆ²å°±ä¸å¥½ç©äº†ã€‚åœ¨éŠæˆ²è¿´åœˆé–‹å§‹ä¹‹å‰ï¼Œæˆ‘å€‘å°‡å®šç¾©å…©å€‹è®Šæ•¸ä¾†å„²å­˜åˆ†æ•¸ã€‚</p>`,
                            code: `# åœ¨é€Ÿåº¦è®Šæ•¸ä¹‹å¾ŒåŠ å…¥ï¼š

# åˆ†æ•¸
player_1_score = 0
player_2_score = 0`
                        },
                        {
                            title: '5.2: é¡¯ç¤ºåˆ†æ•¸èˆ‡æç¤º',
                            content: `<p>æœ€å¾Œï¼Œæˆ‘å€‘åœ¨è¿´åœˆçš„ç¹ªåœ–éƒ¨åˆ†é¡¯ç¤ºåˆ†æ•¸ã€‚æ­¤å¤–ï¼Œå¦‚æœçƒæ˜¯éœæ­¢çš„ï¼Œæˆ‘å€‘éœ€è¦é¡¯ç¤ºã€ŒæŒ‰ä¸‹ç©ºç™½éµç™¼çƒã€çš„æç¤ºä¾†å¼•å°ç©å®¶ã€‚æˆ‘å€‘å°‡ä½¿ç”¨åœ¨ Part 1 å»ºç«‹å¥½çš„ <code>game_font</code> å’Œ <code>prompt_font</code> ç‰©ä»¶ã€‚</p>
                                       <p class="mt-4 font-bold">è¨ˆåˆ†ç³»çµ±å®Œæˆï¼é»æ“Šã€Œä¸‹ä¸€æ­¥ã€ä¾†åŠ ä¸Šæœ€çµ‚çš„å‹åˆ©æ¢ä»¶ã€‚</p>`,
                            code: `# åœ¨ç¹ªåœ–å€å¡Š (if game_active and not game_over:) åŠ å…¥ï¼š

# ç¹ªè£½åˆ†æ•¸
player_1_text = game_font.render(f"{player_1_score}", True, TEXT_COLOR)
screen.blit(player_1_text, (SCREEN_WIDTH // 2 - 60, 20))

player_2_text = game_font.render(f"{player_2_score}", True, TEXT_COLOR)
screen.blit(player_2_text, (SCREEN_WIDTH // 2 + 40, 20))

# å¦‚æœç­‰å¾…ç™¼çƒï¼Œé¡¯ç¤ºæç¤º
if not ball_moving:
    prompt_surface = prompt_font.render("Press Space to Serve", True, TEXT_COLOR)
    prompt_rect = prompt_surface.get_rect(center=(SCREEN_WIDTH // 2, SCREEN_HEIGHT - 50))
    screen.blit(prompt_surface, prompt_rect)`
                        }
                    ]
                },
                'part6': {
                    title: 'Part 6: å‹åˆ©æ¢ä»¶èˆ‡é‡æ–°é–‹å§‹',
                    steps: [
                        {
                            title: '6.1: éŠæˆ²çµæŸæ——æ¨™',
                            content: `<p>ç‚ºäº†è™•ç†éŠæˆ²çµæŸçš„ç‹€æ…‹ï¼Œæˆ‘å€‘éœ€è¦ä¸€å€‹è®Šæ•¸ä¾†è¿½è¹¤éŠæˆ²æ˜¯å¦çµæŸã€‚é€™é€šå¸¸è¢«ç¨±ç‚ºã€Œæ——æ¨™ã€ã€‚æˆ‘å€‘å°‡åœ¨åˆ†æ•¸è®Šæ•¸ä¸‹æ–¹æ–°å¢ä¸€å€‹ <code>game_over</code> æ——æ¨™ï¼Œä¸¦åœ¨åˆå§‹æ™‚å°‡å…¶è¨­ç‚º <code>False</code>ã€‚</p>`,
                            code: `# åœ¨åˆ†æ•¸è®Šæ•¸ä¸‹æ–¹æ–°å¢ï¼š
game_over = False
winner_text = ""`
                        },
                        {
                            title: '6.2: æª¢æŸ¥å‹åˆ©è€…',
                            content: `<p>ç¾åœ¨ï¼Œæ¯ç•¶æœ‰ç©å®¶å¾—åˆ†æ™‚ï¼Œæˆ‘å€‘å°±æª¢æŸ¥ä»–çš„åˆ†æ•¸æ˜¯å¦é”åˆ°äº†å‹åˆ©æ¢ä»¶ï¼ˆ10åˆ†ï¼‰ã€‚å¦‚æœé”åˆ°äº†ï¼Œæˆ‘å€‘å°±è¨­å®šå‹åˆ©è¨Šæ¯ä¸¦å°‡ <code>game_over</code> æ——æ¨™è¨­ç‚º <code>True</code>ï¼Œé€™å°‡æœƒæš«åœéŠæˆ²ã€‚</p>`,
                            code: `# ä¿®æ”¹è¨ˆåˆ†é‚è¼¯ï¼š
if ball.left <= 0:
    player_2_score += 1
    if player_2_score >= 10:
        winner_text = "Player 2 Wins!"
        game_over = True
    ball.center = (SCREEN_WIDTH // 2, SCREEN_HEIGHT // 2)
    ball_moving = False

if ball.right >= SCREEN_WIDTH:
    player_1_score += 1
    if player_1_score >= 10:
        winner_text = "Player 1 Wins!"
        game_over = True
    ball.center = (SCREEN_WIDTH // 2, SCREEN_HEIGHT // 2)
    ball_moving = False`
                        },
                        {
                            title: '6.3: è™•ç†éŠæˆ²çµæŸèˆ‡é‡æ–°é–‹å§‹',
                            content: `<p>æˆ‘å€‘åœ¨äº‹ä»¶è¿´åœˆä¸­åŠ å…¥é‚è¼¯ï¼šç•¶éŠæˆ²çµæŸæ™‚ (<code>game_over</code> ç‚º <code>True</code>)ï¼Œå¦‚æœç©å®¶æŒ‰ä¸‹ç©ºç™½éµï¼Œæˆ‘å€‘å°±é‡ç½®æ‰€æœ‰ç‹€æ…‹ï¼ˆåˆ†æ•¸ã€æ——æ¨™ï¼‰ï¼Œè®“æ–°çš„ä¸€å±€å¯ä»¥é–‹å§‹ã€‚</p>
                                       <p class="mt-4 font-bold">éŠæˆ²ç¾åœ¨æœ‰äº†æ˜ç¢ºçš„çµæŸæ¢ä»¶ã€‚é»æ“Šã€Œä¸‹ä¸€æ­¥ã€ä¾†åŠ å…¥æœ€å¾Œä¸€å€‹å°ˆæ¥­çš„åŠŸèƒ½ï¼šé–‹å§‹ç•«é¢ã€‚</p>`,
                            code: `# åœ¨äº‹ä»¶è™•ç†è¿´åœˆä¸­:
if game_over and event.type == pygame.KEYDOWN:
    if event.key == pygame.K_SPACE:
        game_over = False
        winner_text = ""
        player_1_score = 0
        player_2_score = 0
        ball_moving = False
        ball.center = (SCREEN_WIDTH // 2, SCREEN_HEIGHT // 2)`
                        }
                    ]
                },
                'part7': {
                    title: 'Part 7: å»ºç«‹é–‹å§‹ç•«é¢',
                    steps: [
                        {
                            title: '7.1: å¼•å…¥éŠæˆ²ç‹€æ…‹æ——æ¨™',
                            content: `<p>ä¸€å€‹å®Œæ•´çš„éŠæˆ²é€šå¸¸æ“æœ‰å¤šå€‹ç‹€æ…‹ï¼Œä¾‹å¦‚ã€Œé–‹å§‹ç•«é¢ã€ã€ã€ŒéŠæˆ²é€²è¡Œä¸­ã€å’Œã€ŒéŠæˆ²çµæŸã€ã€‚æˆ‘å€‘å°‡ä½¿ç”¨å¸ƒæ—å€¼æ——æ¨™ä¾†ç®¡ç†é€™äº›ç‹€æ…‹ã€‚æˆ‘å€‘æ–°å¢ä¸€å€‹ <code>game_active</code> æ——æ¨™ï¼Œä¸¦åœ¨éŠæˆ²é–‹å§‹æ™‚å°‡å…¶è¨­ç‚º <code>False</code>ã€‚</p>`,
                            code: `# åœ¨åˆ†æ•¸è®Šæ•¸ä¸‹æ–¹æ–°å¢ï¼š
game_active = False
game_over = False
winner_text = ""`
                        },
                        {
                            title: '7.2: ç¹ªè£½é–‹å§‹ç•«é¢',
                            content: `<p>æˆ‘å€‘éœ€è¦ä¿®æ”¹ä¸»è¿´åœˆçš„çµæ§‹ã€‚å¦‚æœ <code>game_active</code> æ˜¯ <code>False</code>ï¼Œæˆ‘å€‘å°±é¡¯ç¤ºæ­¡è¿è¨Šæ¯å’Œé–‹å§‹æç¤ºã€‚é€™èˆ‡æˆ‘å€‘ä¹‹å‰ç¹ªè£½ã€ŒéŠæˆ²çµæŸã€ç•«é¢çš„æ–¹å¼éå¸¸ç›¸ä¼¼ã€‚</p>`,
                            code: `# åœ¨ä¸»è¿´åœˆçš„ç¹ªåœ–å€å¡Šï¼š
# ...
if not game_active:
    title_surface = title_font.render("Pong Game", True, TEXT_COLOR)
    title_rect = title_surface.get_rect(center=(SCREEN_WIDTH // 2, SCREEN_HEIGHT // 2 - 100))
    
    prompt_surface = prompt_font.render("Press Space to Start", True, TEXT_COLOR)
    prompt_rect = prompt_surface.get_rect(center=(SCREEN_WIDTH // 2, SCREEN_HEIGHT // 2))
    
    screen.blit(title_surface, title_rect)
    screen.blit(prompt_surface, prompt_rect)
# ...`
                        },
                        {
                            title: '7.3: å•Ÿå‹•éŠæˆ²',
                            content: `<p>åœ¨äº‹ä»¶è™•ç†è¿´åœˆä¸­ï¼Œæˆ‘å€‘éœ€è¦æª¢æŸ¥ç©å®¶æ˜¯å¦æŒ‰ä¸‹äº†ç©ºç™½éµã€‚å¦‚æœéŠæˆ²å°šæœªé–‹å§‹ (<code>not game_active</code>)ï¼ŒæŒ‰ä¸‹ç©ºç™½éµå°±æœƒå°‡ <code>game_active</code> è¨­ç‚º <code>True</code>ï¼Œå¾è€Œå•Ÿå‹•éŠæˆ²ã€‚</p>
                                       <p class="mt-4 font-bold">æ­å–œä½ ï¼Œå®Œæˆäº†æ•´å€‹æ•™å­¸ï¼ä½ å·²ç¶“å¾é›¶æ‰“é€ äº†ä¸€å€‹å®Œæ•´çš„ Pong éŠæˆ²ï¼</p>`,
                            code: `# åœ¨äº‹ä»¶è™•ç†è¿´åœˆä¸­ï¼š
for event in pygame.event.get():
    # ... (QUIT äº‹ä»¶)
    if not game_active and event.type == pygame.KEYDOWN:
        if event.key == pygame.K_SPACE:
            game_active = True
    # ... (éŠæˆ²çµæŸæ™‚çš„é‡æ–°é–‹å§‹é‚è¼¯)`
                        }
                    ]
                },
                'final': {
                    title: 'æœ€çµ‚ç¨‹å¼ç¢¼',
                    steps: [
                        {
                            title: 'å®Œæ•´ main.py',
                            content: `<p>é€™æ˜¯æ•´å€‹å°ˆæ¡ˆçš„æœ€çµ‚å®Œæ•´ç¨‹å¼ç¢¼ã€‚ä½ å¯ä»¥è¤‡è£½é€™æ®µç¨‹å¼ç¢¼åˆ°ä½ çš„ <code>main.py</code> æª”æ¡ˆä¸­ç›´æ¥åŸ·è¡Œã€‚</p>`,
                            code: `import pygame
import sys
import random

# 1. åˆå§‹åŒ– Pygame
pygame.init()

# 2. è¨­å®šè¢å¹•å°ºå¯¸å’Œé¡è‰²
SCREEN_WIDTH = 900
SCREEN_HEIGHT = 600
BG_COLOR = pygame.Color('#008000')      # æ¡Œçƒç¶ 
PADDLE_COLOR = pygame.Color('#FFFFFF')  # ç™½è‰²
BALL_COLOR = pygame.Color('#FF8C00')    # æš—æ©˜è‰²
LINE_COLOR = pygame.Color('#FFFFFF')    # ç™½è‰²
TEXT_COLOR = pygame.Color('#FFFFFF')    # ç™½è‰²

# 3. å»ºç«‹å­—é«”ç‰©ä»¶
title_font = pygame.font.Font(None, 64)
game_font = pygame.font.Font(None, 48)
prompt_font = pygame.font.Font(None, 32)

# 4. å»ºç«‹éŠæˆ²è¦–çª—å’Œæ™‚è„ˆ
screen = pygame.display.set_mode((SCREEN_WIDTH, SCREEN_HEIGHT))
pygame.display.set_caption("Pong by Pygame")
clock = pygame.time.Clock()

# çƒæ‹å°ºå¯¸
PADDLE_WIDTH = 10
PADDLE_HEIGHT = 100

# çƒå°ºå¯¸
BALL_SIZE = 15

# ç‚ºéŠæˆ²ç‰©ä»¶å»ºç«‹ Rect
paddle_1 = pygame.Rect(20, SCREEN_HEIGHT // 2 - PADDLE_HEIGHT // 2, PADDLE_WIDTH, PADDLE_HEIGHT)
paddle_2 = pygame.Rect(SCREEN_WIDTH - 20 - PADDLE_WIDTH, SCREEN_HEIGHT // 2 - PADDLE_HEIGHT // 2, PADDLE_WIDTH, PADDLE_HEIGHT)
ball = pygame.Rect(SCREEN_WIDTH // 2 - BALL_SIZE // 2, SCREEN_HEIGHT // 2 - BALL_SIZE // 2, BALL_SIZE, BALL_SIZE)

# çƒçš„é€Ÿåº¦
ball_speed_x = 0
ball_speed_y = 0

# åˆ†æ•¸
player_1_score = 0
player_2_score = 0

# éŠæˆ²ç‹€æ…‹
game_active = False
ball_moving = False
game_over = False
winner_text = ""

# 5. ä¸»éŠæˆ²è¿´åœˆ
running = True
while running:
    # --- äº‹ä»¶è™•ç† ---
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            running = False
        
        if event.type == pygame.KEYDOWN and event.key == pygame.K_SPACE:
            if not game_active:
                game_active = True
            
            if not ball_moving and game_active and not game_over:
                ball_moving = True
                ball_speed_x = 7 * random.choice((1, -1))
                ball_speed_y = 7 * random.choice((1, -1))

            if game_over:
                game_over = False
                winner_text = ""
                player_1_score = 0
                player_2_score = 0
                ball_moving = False
                ball.center = (SCREEN_WIDTH // 2, SCREEN_HEIGHT // 2)

    # --- ç¹ªåœ–èˆ‡é‚è¼¯ ---
    screen.fill(BG_COLOR)

    if game_active and not game_over:
        # --- éŠæˆ²é‚è¼¯ (åªæœ‰çƒåœ¨å‹•çš„æ™‚å€™æ‰æ›´æ–°) ---
        if ball_moving:
            ball.x += ball_speed_x
            ball.y += ball_speed_y

            if ball.top <= 0 or ball.bottom >= SCREEN_HEIGHT:
                ball_speed_y *= -1
            if ball.colliderect(paddle_1) or ball.colliderect(paddle_2):
                ball_speed_x *= -1

            if ball.left <= 0:
                player_2_score += 1
                if player_2_score >= 10:
                    winner_text = "Player 2 Wins!"
                    game_over = True
                ball.center = (SCREEN_WIDTH // 2, SCREEN_HEIGHT // 2)
                ball_moving = False

            if ball.right >= SCREEN_WIDTH:
                player_1_score += 1
                if player_1_score >= 10:
                    winner_text = "Player 1 Wins!"
                    game_over = True
                ball.center = (SCREEN_WIDTH // 2, SCREEN_HEIGHT // 2)
                ball_moving = False
        
        # --- ç©å®¶ç§»å‹• (éš¨æ™‚éƒ½å¯ä»¥) ---
        keys = pygame.key.get_pressed()
        if keys[pygame.K_w]: paddle_1.y -= 7
        if keys[pygame.K_s]: paddle_1.y += 7
        if keys[pygame.K_UP]: paddle_2.y -= 7
        if keys[pygame.K_DOWN]: paddle_2.y += 7

        if paddle_1.top <= 0: paddle_1.top = 0
        if paddle_1.bottom >= SCREEN_HEIGHT: paddle_1.bottom = SCREEN_HEIGHT
        if paddle_2.top <= 0: paddle_2.top = 0
        if paddle_2.bottom >= SCREEN_HEIGHT: paddle_2.bottom = SCREEN_HEIGHT
        
        # --- éŠæˆ²ä¸­ç¹ªåœ– ---
        pygame.draw.rect(screen, PADDLE_COLOR, paddle_1)
        pygame.draw.rect(screen, PADDLE_COLOR, paddle_2)
        pygame.draw.ellipse(screen, BALL_COLOR, ball)
        pygame.draw.aaline(screen, LINE_COLOR, (SCREEN_WIDTH // 2, 0), (SCREEN_WIDTH // 2, SCREEN_HEIGHT))
        
        player_1_text = game_font.render(f"{player_1_score}", True, TEXT_COLOR)
        screen.blit(player_1_text, (SCREEN_WIDTH // 2 - 60, 20))
        player_2_text = game_font.render(f"{player_2_score}", True, TEXT_COLOR)
        screen.blit(player_2_text, (SCREEN_WIDTH // 2 + 40, 20))

        if not ball_moving:
            prompt_surface = prompt_font.render("Press Space to Serve", True, TEXT_COLOR)
            prompt_rect = prompt_surface.get_rect(center=(SCREEN_WIDTH // 2, SCREEN_HEIGHT - 50))
            screen.blit(prompt_surface, prompt_rect)

    elif game_over:
        win_text_surface = game_font.render(winner_text, True, TEXT_COLOR)
        win_text_rect = win_text_surface.get_rect(center=(SCREEN_WIDTH // 2, SCREEN_HEIGHT // 2 - 50))
        screen.blit(win_text_surface, win_text_rect)
        
        restart_text_surface = prompt_font.render("Press Space to Restart", True, TEXT_COLOR)
        restart_text_rect = restart_text_surface.get_rect(center=(SCREEN_WIDTH // 2, SCREEN_HEIGHT // 2 + 50))
        screen.blit(restart_text_surface, restart_text_rect)
    
    else: # å¦‚æœéŠæˆ²æœªå•Ÿå‹•ä¸”æœªçµæŸ -> é–‹å§‹ç•«é¢
        title_surface = title_font.render("Pong Game", True, TEXT_COLOR)
        title_rect = title_surface.get_rect(center=(SCREEN_WIDTH // 2, SCREEN_HEIGHT // 2 - 100))
        
        prompt_surface = prompt_font.render("Press Space to Start", True, TEXT_COLOR)
        prompt_rect = prompt_surface.get_rect(center=(SCREEN_WIDTH // 2, SCREEN_HEIGHT // 2))
        
        screen.blit(title_surface, title_rect)
        screen.blit(prompt_surface, prompt_rect)


    # --- æ›´æ–°è¢å¹• ---
    pygame.display.flip()

    # --- å°‡å¹€ç‡é™åˆ¶åœ¨ 60 FPS ---
    clock.tick(60)

# 6. é€€å‡º Pygame
pygame.quit()
sys.exit()`
                        }
                    ]
                }
            };

            const toc = document.getElementById('table-of-contents').getElementsByTagName('ul')[0];
            const tutorialContent = document.getElementById('tutorial-content');
            const codeDisplay = document.getElementById('code-display');
            const copyButton = document.getElementById('copy-button');
            const codeTitle = document.getElementById('code-viewer-title');
            const toggleCodeBtn = document.getElementById('toggle-code-btn');
            const codeViewerContainer = document.getElementById('code-viewer-container');
            const mainGrid = document.getElementById('main-grid');
            
            let currentPage = 'intro';
            let currentStep = 0;
            let currentCode = '';

            function renderPage(pageId, startStep = 0) {
                currentPage = pageId;
                currentStep = startStep;
                
                const pageData = tutorialData[pageId];
                if (!pageData) return;

                tutorialContent.innerHTML = ''; // Clear previous content

                const pageContainer = document.createElement('div');
                pageContainer.id = `page-${pageId}`;
                pageContainer.classList.add('content-section');
                
                let stepsHtml = `<h3>${pageData.title}</h3>`;
                pageData.steps.forEach((step, index) => {
                    stepsHtml += `<div class="step-content ${index === startStep ? 'active' : ''}" data-step="${index}">
                                    <h4>${step.title}</h4>
                                    ${step.content}
                                  </div>`;
                });
                
                pageContainer.innerHTML = stepsHtml;

                const navigationButtons = document.createElement('div');
                navigationButtons.classList.add('mt-8', 'flex', 'justify-between');
                navigationButtons.innerHTML = `
                    <button class="prev-step-btn bg-slate-200 hover:bg-slate-300 text-slate-800 font-bold py-2 px-4 rounded disabled:opacity-50 disabled:cursor-not-allowed">
                        &larr; ä¸Šä¸€æ­¥
                    </button>
                    <button class="next-step-btn bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded">
                        ä¸‹ä¸€æ­¥ &rarr;
                    </button>
                `;
                pageContainer.appendChild(navigationButtons);
                tutorialContent.appendChild(pageContainer);

                updateStep();
                updateNavButtons();

                document.querySelector('.prev-step-btn').addEventListener('click', () => {
                    const pageKeys = Object.keys(tutorialData);
                    const currentPageIndex = pageKeys.indexOf(currentPage);

                    if (currentStep > 0) {
                        currentStep--;
                        updateStep();
                    } else if (currentPageIndex > 0) {
                        const prevPageId = pageKeys[currentPageIndex - 1];
                        const prevPageData = tutorialData[prevPageId];
                        renderPage(prevPageId, prevPageData.steps.length - 1);
                    }
                    updateNavButtons();
                });

                document.querySelector('.next-step-btn').addEventListener('click', () => {
                     const pageKeys = Object.keys(tutorialData);
                     const currentPageIndex = pageKeys.indexOf(currentPage);

                    if (currentStep < pageData.steps.length - 1) {
                        currentStep++;
                        updateStep();
                    } else if (currentPageIndex < pageKeys.length - 1) {
                        renderPage(pageKeys[currentPageIndex + 1]);
                    }
                    updateNavButtons();
                });

                // Update sidebar active state
                toc.querySelectorAll('a').forEach(link => {
                    if (link.getAttribute('data-page') === pageId) {
                        link.classList.add('nav-active');
                    } else {
                        link.classList.remove('nav-active');
                    }
                });
            }

            function updateStep() {
                const pageData = tutorialData[currentPage];
                const stepData = pageData.steps[currentStep];

                document.querySelectorAll('.step-content').forEach(el => {
                    el.classList.remove('active');
                });
                const activeStepEl = document.querySelector(`.step-content[data-step="${currentStep}"]`);
                if (activeStepEl) {
                    activeStepEl.classList.add('active');
                }
                
                currentCode = stepData.code.trim();
                codeTitle.textContent = stepData.title;
                codeDisplay.innerHTML = Prism.highlight(currentCode, Prism.languages.python, 'python');
            }

            function updateNavButtons() {
                const prevBtn = document.querySelector('.prev-step-btn');
                const nextBtn = document.querySelector('.next-step-btn');
                if (!prevBtn || !nextBtn) return;

                const pageData = tutorialData[currentPage];
                const pageKeys = Object.keys(tutorialData);
                const currentPageIndex = pageKeys.indexOf(currentPage);

                prevBtn.disabled = (currentPageIndex === 0 && currentStep === 0);
                nextBtn.disabled = (currentPageIndex === pageKeys.length - 1 && currentStep === pageData.steps.length - 1);
            }

            // Build sidebar
            Object.keys(tutorialData).forEach(pageId => {
                const pageData = tutorialData[pageId];
                const li = document.createElement('li');
                li.innerHTML = `<a href="#" data-page="${pageId}" class="block border-l-4 border-transparent px-4 py-2 text-slate-600 hover:bg-slate-100 hover:text-slate-900 transition-colors">${pageData.title}</a>`;
                toc.appendChild(li);
            });

            // Sidebar click listeners
            toc.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const pageId = e.target.getAttribute('data-page');
                    renderPage(pageId);
                    if (window.innerWidth < 768) {
                        sidebar.classList.add('-translate-x-full');
                    }
                });
            });

            copyButton.addEventListener('click', () => {
                // Use the deprecated execCommand for broader compatibility in sandboxed environments
                const textArea = document.createElement("textarea");
                textArea.value = currentCode;
                textArea.style.position = "fixed";  // Prevent scrolling to bottom of page in MS Edge.
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                try {
                    document.execCommand('copy');
                    copyButton.textContent = 'å·²è¤‡è£½!';
                    setTimeout(() => {
                        copyButton.textContent = 'è¤‡è£½';
                    }, 2000);
                } catch (err) {
                    console.error('Fallback: Oops, unable to copy', err);
                }
                document.body.removeChild(textArea);
            });

            // Toggle Code Viewer
            toggleCodeBtn.addEventListener('click', () => {
                const isHidden = codeViewerContainer.classList.toggle('hidden');
                mainGrid.classList.toggle('lg:grid-cols-2');
                toggleCodeBtn.textContent = isHidden ? 'é¡¯ç¤ºç¨‹å¼ç¢¼' : 'éš±è—ç¨‹å¼ç¢¼';
            });

            // Initial render
            renderPage('intro');

            const menuToggle = document.getElementById('menu-toggle');
            const sidebar = document.getElementById('sidebar');
            menuToggle.addEventListener('click', () => {
                sidebar.classList.toggle('-translate-x-full');
            });
        });
    </script>
</body>
</ht